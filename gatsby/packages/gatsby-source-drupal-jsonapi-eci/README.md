# gatsby-source-drupal-json-api-eci

Started off [`gatsby-source-drupal`](https://www.gatsbyjs.org/packages/gatsby-source-drupal/) plugin.

Differences:

- All languages of an API are fetched through 1 plugin configuration, not several.
- Accepts `languages` (array) so that all translations are available in once place before Gatsby's `createNode()`.
- IDs are namespaced with `language` and `apiBase`, avoiding overrides because of same IDs generated by `createNodeId()` passed by `sourceNodes()`.
- Does not create remote Files

Reasoning:

- JSON API module in Drupal 8 has [issues with multilingualism](https://www.drupal.org/project/issues/jsonapi?text=translations&status=Open&priorities=All&categories=All&version=All&component=All)
- Hard to pass per-node list of available translations from Drupal. (Normalizer pattern has been deprecated in JSON API module and the new Field Enhancer Plugin does not cover for the scenario to add translations in node's `attributes` in JSON API responses. Adding the list of translations in a computed field is also not optimal because values are calculated on each entity load.
